<UserControl x:Class="ATAS.Indicators.Technical.Editors.SampleEditor"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:technical="clr-namespace:ATAS.Indicators.Technical"
             xmlns:converters="http://schemas.utils.com/xaml"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <converters:ColorToBrushConverter x:Key="ColorToBrushConverter" />
        <converters:LocalizedEnumValueConverter x:Key="EnumToLocalizedStringConverter" />
        <SolidColorBrush x:Key="FailBrush" Color="GreenYellow" Opacity="0.8" />
        <DataTemplate x:Key="Figure1Template" DataType="technical:CustomClass">
            <Viewbox Stretch="Uniform">
                <Canvas Height="24" Width="24">
                    <Path
                        Data="M4 4.75C3.30964 4.75 2.75 5.30964 2.75 6V18C2.75 18.6904 3.30964 19.25 4 19.25H20C20.6904 19.25 21.25 18.6904 21.25 18V6C21.25 5.30964 20.6904 4.75 20 4.75H4ZM1.25 6C1.25 4.48122 2.48122 3.25 4 3.25H20C21.5188 3.25 22.75 4.48122 22.75 6V18C22.75 19.5188 21.5188 20.75 20 20.75H4C2.48122 20.75 1.25 19.5188 1.25 18V6Z"
                        StrokeThickness="0.5"
                        Stretch="Fill">
                        <Path.Stroke>
                            <!-- CustomClass.ColorProperty -->
                            <Binding Path="ColorProperty"
                                     FallbackValue="{StaticResource FailBrush}"
                                     Converter="{StaticResource ColorToBrushConverter}" />
                        </Path.Stroke>

                    </Path>
                    <Path
                        Data="M10 3.25C10.4142 3.25 10.75 3.58579 10.75 4V8C10.75 8.41421 10.4142 8.75 10 8.75C9.58579 8.75 9.25 8.41421 9.25 8V4C9.25 3.58579 9.58579 3.25 10 3.25Z"
                        Stretch="Fill"
                        StrokeThickness="0.5">
                        <Path.Stroke>
                            <!-- CustomClass.ColorProperty -->
                            <Binding Path="ColorProperty"
                                     FallbackValue="{StaticResource FailBrush}"
                                     Converter="{StaticResource ColorToBrushConverter}" />
                        </Path.Stroke>
                    </Path>
                    <Path
                        Data="M1.25 8C1.25 7.58579 1.58579 7.25 2 7.25H22C22.4142 7.25 22.75 7.58579 22.75 8C22.75 8.41421 22.4142 8.75 22 8.75H2C1.58579 8.75 1.25 8.41421 1.25 8Z"
                        Stretch="Fill"
                        StrokeThickness="0.5">
                        <Path.Stroke>
                            <!-- CustomClass.ColorProperty -->
                            <Binding Path="ColorProperty"
                                     FallbackValue="{StaticResource FailBrush}"
                                     Converter="{StaticResource ColorToBrushConverter}" />
                        </Path.Stroke>
                    </Path>
                    <Path
                        Data="M6 3.25C6.41421 3.25 6.75 3.58579 6.75 4V8C6.75 8.41421 6.41421 8.75 6 8.75C5.58579 8.75 5.25 8.41421 5.25 8V4C5.25 3.58579 5.58579 3.25 6 3.25Z"
                        Stretch="Fill"
                        StrokeThickness="0.5">
                        <Path.Stroke>
                            <Binding Path="ColorProperty"
                                     FallbackValue="{StaticResource FailBrush}"
                                     Converter="{StaticResource ColorToBrushConverter}" />
                        </Path.Stroke>
                    </Path>
                </Canvas>
            </Viewbox>
        </DataTemplate>

        <DataTemplate x:Key="Figure2Template" DataType="technical:CustomClass">
            <Path
                Data="M20.25 3.75H6.75C6.35218 3.75 5.97064 3.90804 5.68934 4.18934C5.40804 4.47064 5.25 4.85218 5.25 5.25V6.75H3.75C3.35218 6.75 2.97064 6.90804 2.68934 7.18934C2.40804 7.47064 2.25 7.85218 2.25 8.25V18.75C2.25 19.1478 2.40804 19.5294 2.68934 19.8107C2.97064 20.092 3.35218 20.25 3.75 20.25H17.25C17.6478 20.25 18.0294 20.092 18.3107 19.8107C18.592 19.5294 18.75 19.1478 18.75 18.75V17.25H20.25C20.6478 17.25 21.0294 17.092 21.3107 16.8107C21.592 16.5294 21.75 16.1478 21.75 15.75V5.25C21.75 4.85218 21.592 4.47064 21.3107 4.18934C21.0294 3.90804 20.6478 3.75 20.25 3.75ZM17.25 8.25V9.75H3.75V8.25H17.25ZM17.25 18.75H3.75V11.25H17.25V18.75ZM20.25 15.75H18.75V8.25C18.75 7.85218 18.592 7.47064 18.3107 7.18934C18.0294 6.90804 17.6478 6.75 17.25 6.75H6.75V5.25H20.25V15.75Z"
                Width="12"
                Margin="2"
                Stretch="Fill"
                StrokeThickness="0.5">
                <Path.Stroke>
                    <Binding Path="ColorProperty"
                             FallbackValue="{StaticResource FailBrush}"
                             Converter="{StaticResource ColorToBrushConverter}" />
                </Path.Stroke>
            </Path>
        </DataTemplate>

    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" BorderBrush="#C0C0C0" BorderThickness="1" Width="23" Height="17">
            <ContentControl>
                <ContentControl.Style>
                    <Style TargetType="ContentControl">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding EnumProperty}" Value="Picture1">
                                <Setter Property="ContentTemplate" Value="{StaticResource Figure1Template}" />
                            </DataTrigger>

                            <DataTrigger Binding="{Binding EnumProperty}" Value="Picture2">
                                <Setter Property="ContentTemplate" Value="{StaticResource Figure2Template}" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ContentControl.Style>
            </ContentControl>
        </Border>
        <StackPanel Orientation="Horizontal"
                    Grid.Column="1"
                    Margin="3,0,0,0"
                    VerticalAlignment="Center">
            <Label Content="{Binding EnumProperty, Converter={StaticResource EnumToLocalizedStringConverter}}"
                   ContentStringFormat="{}{0}; " />

            <Label Content="{Binding Number}"
                   ContentStringFormat="{}{0}" />
        </StackPanel>
    </Grid>

</UserControl>